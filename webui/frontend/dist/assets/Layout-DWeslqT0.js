import{d as q,r as m,k as G,l as W,o as $,m as j,p as c,w as e,i as w,f as o,e as n,b as d,c as i,q as H,t as J,v as K,x as y,y as h,F as O,z as P,u as Q,g as t,_ as X}from"./index-trtxiWIY.js";const Y={class:"logo"},Z={key:0},ee={key:1},oe={key:0,class:"version-info"},ne={key:0,class:"version-text"},te={class:"header-right"},se={class:"user-dropdown"},ae=q({__name:"Layout",setup(le){const k=Q(),g=W(),s=m(!1),v=m(!1),r=m(null),x=[{path:"/",icon:"Grid",label:"转发规则"},{path:"/monitor",icon:"Monitor",label:"实时监控"},{path:"/settings",icon:"Setting",label:"系统设置"}],b=G(()=>g.path),u=()=>{v.value=window.innerWidth<768,v.value&&(s.value=!0)},C=async()=>{await w.logout(),P(),k.push("/login")},E=async()=>{const p=await w.version();p.code===0&&(r.value=p.data)};return $(()=>{u(),window.addEventListener("resize",u),E()}),j(()=>{window.removeEventListener("resize",u)}),(p,a)=>{const _=o("el-icon"),L=o("el-menu-item"),R=o("el-menu"),V=o("el-tooltip"),z=o("el-aside"),B=o("Fold"),D=o("Expand"),F=o("User"),M=o("ArrowDown"),N=o("el-dropdown-item"),A=o("el-dropdown-menu"),U=o("el-dropdown"),I=o("el-header"),S=o("router-view"),T=o("el-main"),f=o("el-container");return t(),c(f,{class:"layout-container"},{default:e(()=>[n(z,{width:s.value?"64px":"200px",class:"layout-aside"},{default:e(()=>[d("div",Y,[s.value?(t(),i("span",ee,"R")):(t(),i("span",Z,"Relay"))]),n(R,{"default-active":b.value,collapse:s.value,"collapse-transition":!1,router:"",class:"aside-menu"},{default:e(()=>[(t(),i(O,null,J(x,l=>n(L,{key:l.path,index:l.path},{title:e(()=>[y(h(l.label),1)]),default:e(()=>[n(_,null,{default:e(()=>[(t(),c(K(l.icon)))]),_:2},1024)]),_:2},1032,["index"])),64))]),_:1},8,["default-active","collapse"]),r.value?(t(),i("div",oe,[s.value?(t(),c(V,{key:1,content:r.value.version,placement:"right"},{default:e(()=>[...a[1]||(a[1]=[d("span",{class:"version-dot"},"v",-1)])]),_:1},8,["content"])):(t(),i("span",ne,h(r.value.version),1))])):H("",!0)]),_:1},8,["width"]),n(f,null,{default:e(()=>[n(I,{class:"layout-header"},{default:e(()=>[n(_,{class:"toggle-btn",onClick:a[0]||(a[0]=l=>s.value=!s.value)},{default:e(()=>[s.value?(t(),c(D,{key:1})):(t(),c(B,{key:0}))]),_:1}),d("div",te,[n(U,{onCommand:C},{dropdown:e(()=>[n(A,null,{default:e(()=>[n(N,null,{default:e(()=>[...a[3]||(a[3]=[y("退出登录",-1)])]),_:1})]),_:1})]),default:e(()=>[d("span",se,[n(_,null,{default:e(()=>[n(F)]),_:1}),a[2]||(a[2]=d("span",{class:"username"},"管理员",-1)),n(_,null,{default:e(()=>[n(M)]),_:1})])]),_:1})])]),_:1}),n(T,{class:"layout-main"},{default:e(()=>[n(S)]),_:1})]),_:1})]),_:1})}}}),de=X(ae,[["__scopeId","data-v-5fb5a304"]]);export{de as default};
